{"version":3,"sources":["Sidebar/sidebar.module.css","redux/authReducer.js","serviceWorker.js","redux/sidebarReducer.js","redux/appReducer.js","redux/redux-store.js","Footer/footer.jsx","Sidebar/sidebar.jsx","Content/content.jsx","userPic/userPic.jsx","Header/header.jsx","Header/headerContainer.jsx","App.js","index.js","common/preloader/preloader.jsx","redux/profileReducer.js","API/API.js","redux/dialogsReducer.js","common/preloader/preloaderMini.jsx","utils/validators/objectHelpers.js","redux/usersReducer.js","assets/img/loader.svg","common/preloader/preloader.module.css","Header/header.module.css","assets/img/loaderMini.svg","common/preloader/preloaderMini.module.css"],"names":["module","exports","initialState","id","email","login","isAuth","isFetching","SetAuthUserData","data","type","setToggleIsfetcing","toggle","getAuth","dispatch","a","authAPI","response","resultCode","setLogin","password","rememberMe","then","message","messages","length","action","stopSubmit","_error","setLogout","authReducer","stateReducer","Boolean","window","location","hostname","match","sidebarReducer","initialized","appReducer","reducersPack","combineReducers","profile","profileReducer","dialogs","dialogsReducer","sidebar","users","usersReducer","auth","form","formReducer","app","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleWare","___store___","Footer","className","Sidebar","to","c","link","sidebar_item","Dialogs","React","lazy","UsersContainer","ProfileContainer","Login","Content","props","fallback","path","render","UserPic","Header","style","loginBlock","onClick","logout","HeaderContainer","this","Component","connect","state","App","initializeApp","promise","Promise","all","withRouter","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","console","Preloader","preloader","src","alt","profileBlogItems","likesCount","currentPostText","displayProfile","status","SetProfileBlogItemsAC","text","setUserProfile","setUserStatus","statusText","setToogleIsFetching","getUserProfile","userId","userAPI","getUserStatus","profileAPI","updateUserStatus","updatetUserStatus","newPost","stateCopy","push","instance","Axios","create","withCredentials","headers","baseURL","getUsers","currentPage","pageSize","get","setUnfollow","delete","setFollow","post","warn","loginData","put","dialogsListItems","name","dialogsChatMessages","currentMessageText","SetDialogsChatMessagesAC","newMessage","currentText","PreloaderMini","updateArray","array","itemId","objPropName","newObjProps","map","el","userList","totalCount","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","page","setTotalCount","count","setToogleFollowingInProgress","items","followUnFollow","setFollowUnFollow","FollowUnFollowSuccess","unfollow","bind","follow","followed","filter"],"mappings":"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","file":"static/js/main.c4ff6563.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"sidebar_link__kM6Nl\",\"sidebar_item\":\"sidebar_sidebar_item__3TD6B\",\"sidebaritem\":\"sidebar_sidebaritem__2xrgL\"};","import { authAPI } from \"./../API/API\";\r\nimport { stopSubmit } from \"redux-form\";\r\n\r\nconst SET_USER_DATA = \"SET_USER_DATA\";\r\nconst SET_LOGOUT = \"SET_LOGOUT\";\r\nconst TOGGLE_ISFETCHING = \"TOGGLE_ISFETCHING\";\r\n\r\nlet initialState = {\r\n  id: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false,\r\n  isFetching: false\r\n};\r\n\r\nconst authReducer = (stateReducer = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_USER_DATA:\r\n      return {\r\n        ...stateReducer,\r\n        ...action.data,\r\n        isAuth: true\r\n      };\r\n    case SET_LOGOUT:\r\n      return {\r\n        ...stateReducer,\r\n        isAuth: false\r\n      };\r\n    case TOGGLE_ISFETCHING:\r\n      return {\r\n        ...stateReducer,\r\n        isFetching: action.toggle\r\n      };\r\n    default:\r\n      return stateReducer;\r\n  }\r\n};\r\n\r\n//ACTION CREATORs:\r\n\r\nexport const SetAuthUserData = data => ({\r\n  type: SET_USER_DATA,\r\n  data: data\r\n});\r\n\r\nconst setLogoutAC = () => ({\r\n  type: SET_LOGOUT\r\n});\r\n\r\nconst setToggleIsfetcing = toggle => ({\r\n  type: TOGGLE_ISFETCHING,\r\n  toggle: toggle\r\n});\r\n\r\n// THUNK CREATORs:\r\n\r\nexport const getAuth = () => async dispatch => {\r\n  let response = await authAPI.getAuth();\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(SetAuthUserData(response.data.data));\r\n  }\r\n};\r\n\r\nexport const setLogin = (email, password, rememberMe) => async dispatch => {\r\n  dispatch(setToggleIsfetcing(true));\r\n  let response = await authAPI.setLogin({\r\n    email: email,\r\n    password: password,\r\n    rememberMe: rememberMe\r\n  });\r\n  if (response.data.resultCode === 0) {\r\n    authAPI.getAuth().then(response => {\r\n      if (response.data.resultCode === 0) {\r\n        dispatch(SetAuthUserData(response.data.data));\r\n      }\r\n    });\r\n  } else if (response.data.resultCode === 1) {\r\n    let message =\r\n      response.data.messages.length > 0\r\n        ? response.data.messages[0]\r\n        : \"some error\";\r\n    let action = stopSubmit(\"login\", { _error: message });\r\n    dispatch(action);\r\n  }\r\n  dispatch(setToggleIsfetcing(false));\r\n};\r\n\r\nexport const setLogout = () => async dispatch => {\r\n  dispatch(setToggleIsfetcing(true));\r\n  let response = await authAPI.setLogout();\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(setLogoutAC());\r\n    dispatch(setToggleIsfetcing(false));\r\n  }\r\n};\r\n\r\nexport default authReducer;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","let initialState = {};\r\n\r\nconst sidebarReducer = (stateReducer = initialState, action) => {\r\n\r\n    return stateReducer;\r\n}\r\n\r\nexport default sidebarReducer;","// import { authAPI } from \"../API/API\";\r\n// import { stopSubmit } from \"redux-form\";\r\nimport { getAuth } from \"./authReducer\";\r\n\r\nconst SET_INITIALIZED = \"SET_INITIALIZED\";\r\n\r\nlet initialState = {\r\n  initialized: false\r\n};\r\n\r\nconst appReducer = (stateReducer = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_INITIALIZED:\r\n      return {\r\n        ...stateReducer,\r\n        initialized: true\r\n      };\r\n    default:\r\n      return stateReducer;\r\n  }\r\n};\r\n\r\n//ACTION CREATORs:\r\n\r\nexport const SetInitialized = () => ({\r\n  type: SET_INITIALIZED\r\n});\r\n\r\n// THUNK CREATORs:\r\n\r\nexport const initializeApp = () => {\r\n  return dispatch => {\r\n    let promise = dispatch(getAuth());\r\n    Promise.all([promise]).then(() => dispatch(SetInitialized()));\r\n  };\r\n};\r\n\r\nexport default appReducer;\r\n","import { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\r\nimport profileReducer from \"./profileReducer\";\r\nimport dialogsReducer from \"./dialogsReducer\";\r\nimport sidebarReducer from \"./sidebarReducer\";\r\nimport usersReducer from \"./usersReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport appReducer from \"./appReducer\";\r\nimport thunkMiddleWare from \"redux-thunk\";\r\nimport { reducer as formReducer } from 'redux-form'\r\n\r\nlet reducersPack = combineReducers({\r\n  profile: profileReducer,\r\n  dialogs: dialogsReducer,\r\n  sidebar: sidebarReducer,\r\n  users: usersReducer,\r\n  auth: authReducer,\r\n  form: formReducer,\r\n  app: appReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducersPack, /* preloadedState, */ composeEnhancers(\r\n    applyMiddleware(thunkMiddleWare)\r\n  ));\r\n\r\n// let store = createStore(reducersPack, applyMiddleware(thunkMiddleWare));\r\n\r\nwindow.___store___ = store;\r\n\r\nexport default store;\r\n","import React from \"react\";\r\n\r\nfunction Footer() {\r\n  return <div className=\"footer\">footer</div>;\r\n}\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\nimport c from \"./sidebar.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nfunction Sidebar() {\r\n  return <div className=\"sidebar\">\r\n    <NavLink to='/profile' className={c.link}><div className={c.sidebar_item}><div>Profile</div></div></NavLink>\r\n    <NavLink to='/dialogs' className={c.link}><div className={c.sidebar_item}><div>Dialogs</div></div></NavLink>\r\n    <NavLink to='/music' className={c.link}><div className={c.sidebar_item}><div>Music</div></div></NavLink>\r\n    <NavLink to='/feed' className={c.link}><div className={c.sidebar_item}><div>Feed</div></div></NavLink>\r\n    <NavLink to='/users' className={c.link}><div className={c.sidebar_item}><div>Users</div></div></NavLink>\r\n  </div>;\r\n}\r\n\r\nexport default Sidebar;\r\n","import React, { Suspense } from \"react\";\r\nimport { Route } from \"react-router-dom\";\r\nimport Preloader from \"../common/preloader/preloader\";\r\nconst Dialogs = React.lazy(() => import(\"./dialogs/dialogs\"));\r\nconst UsersContainer = React.lazy(() => import(\"./users/usersContainer\"));\r\nconst ProfileContainer = React.lazy(() => import(\"./profile/profileContainer\"));\r\nconst Login = React.lazy(() => import(\"./login/login\"));\r\n\r\nfunction Content(props) {\r\n  return (\r\n    <div className=\"content\">\r\n      <Suspense fallback={<Preloader />}>\r\n        <Route path=\"/profile/:userId?\" render={() => <ProfileContainer />} />\r\n        <Route path=\"/dialogs\" render={() => <Dialogs />} />\r\n        <Route path=\"/users\" render={() => <UsersContainer />} />\r\n        <Route path=\"/login\" render={() => <Login />} />\r\n      </Suspense>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Content;\r\n","import React from \"react\";\r\n\r\nfunction UserPic() {\r\n  return <div className=\"userPic\">profilePic</div>;\r\n}\r\n\r\nexport default UserPic;\r\n","import React from \"react\";\r\nimport style from \"./header.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport PreloaderMini from \"../common/preloader/preloaderMini\";\r\n\r\nconst Header = props => {\r\n  return (\r\n    <div className=\"header\">\r\n      <div className={style.loginBlock}>\r\n        {props.isAuth ? (\r\n          !props.isFetching ? (\r\n            <div>\r\n              <div>{props.login}</div>\r\n              <button onClick={props.logout}>Logout</button>\r\n            </div>\r\n          ) : (\r\n            <PreloaderMini />\r\n          )\r\n        ) : (\r\n          <NavLink to={\"/login\"}>Login</NavLink>\r\n        )}\r\n      </div>\r\n      <div></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport Header from \"./header\";\r\nimport { connect } from \"react-redux\";\r\nimport { getAuth, setLogout } from \"./../redux/authReducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n  // componentDidMount() {\r\n  //   this.props.getAuth();\r\n  // }\r\n  logout = () => {\r\n    this.props.setLogout();\r\n  };\r\n  render() {\r\n    return <Header {...this.props} logout={this.logout} />;\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login,\r\n  isFetching: state.auth.isFetching\r\n});\r\n\r\nexport default connect(mapStateToProps, { getAuth, setLogout })(\r\n  HeaderContainer\r\n);\r\n","import React from \"react\";\nimport \"./App.css\";\nimport Footer from \"./Footer/footer\";\nimport Sidebar from \"./Sidebar/sidebar\";\nimport Content from \"./Content/content\";\nimport UserPic from \"./userPic/userPic\";\nimport HeaderContainer from \"./Header/headerContainer\";\nimport { initializeApp } from \"./redux/appReducer\";\nimport { withRouter } from \"react-router-dom\";\nimport { compose } from \"redux\";\nimport { connect } from \"react-redux\";\nimport Preloader from \"./common/preloader/preloader\";\n\nclass App extends React.Component {\n  componentDidMount() {\n    return this.props.initializeApp();\n  }\n  render() {\n    if (!this.props.initialized) return <Preloader />;\n    return (\n      <div className=\"App\">\n        <HeaderContainer />\n        <UserPic />\n        <Sidebar />\n        <Content />\n        <Footer />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  initialized: state.app.initialized\n});\n\nexport default compose(\n  connect(mapStateToProps, { initializeApp }),\n  withRouter\n)(App);\n","import \"./index.css\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\nimport store from \"./redux/redux-store\";\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport { HashRouter } from \"react-router-dom\";\r\nimport { Provider } from \"react-redux\";\r\n\r\nReactDOM.render(\r\n  <HashRouter>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </HashRouter>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","import React from \"react\";\r\nimport preloader from \"./../../assets/img/loader.svg\";\r\nimport style from \"./preloader.module.css\";\r\n\r\nconst Preloader = () => {\r\n  return (\r\n    <div className={style.preloader} >\r\n      <img src={preloader} alt=\"loadind...\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Preloader;\r\n","import { userAPI, profileAPI } from \"./../API/API\";\r\n\r\nconst SET_PROFILE_BLOG_ITEMS = \"SET-PROFILE-BLOG-ITEMS\";\r\nconst SET_USER_PROFILE = \"SET_USER_PROFILE\";\r\nconst SET_USER_STATUS = \"SET_USER_STATUS\";\r\nconst TOOGLE_IS_FETCHING = \"TOOGLE_IS_FETCHING\";\r\n\r\nlet initialState = {\r\n  profileBlogItems: [\r\n    { id: 1, message: \"Hi all!\", likesCount: 8 },\r\n    { id: 2, message: \"Glad to see you!\", likesCount: 4 }\r\n  ],\r\n  currentPostText: \"\",\r\n  displayProfile: null,\r\n  status: \"\",\r\n  isFetching: false\r\n};\r\n\r\nconst profileReducer = (stateReducer = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_PROFILE_BLOG_ITEMS: {\r\n      if (!action.text) return stateReducer;\r\n      let newPost = {\r\n        id: 5,\r\n        message: action.text,\r\n        likesCount: 0\r\n      };\r\n      let stateCopy = {\r\n        ...stateReducer,\r\n        profileBlogItems: [...stateReducer.profileBlogItems]\r\n      };\r\n      stateCopy.profileBlogItems.push(newPost);\r\n      return stateCopy;\r\n    }\r\n    case SET_USER_PROFILE: {\r\n      return { ...stateReducer, displayProfile: action.profile };\r\n    }\r\n    case SET_USER_STATUS: {\r\n      return { ...stateReducer, status: action.statusText };\r\n    }\r\n    case TOOGLE_IS_FETCHING: {\r\n      return { ...stateReducer, isFetching: action.isFetching };\r\n    }\r\n    default:\r\n      return stateReducer;\r\n  }\r\n};\r\n\r\n//ACTION CREATORs:\r\n\r\nexport const SetProfileBlogItemsAC = text => ({\r\n  type: SET_PROFILE_BLOG_ITEMS,\r\n  text: text\r\n});\r\n\r\nexport const setUserProfile = profile => ({\r\n  type: SET_USER_PROFILE,\r\n  profile: profile\r\n});\r\nexport const setUserStatus = statusText => ({\r\n  type: SET_USER_STATUS,\r\n  statusText: statusText\r\n});\r\nexport const setToogleIsFetching = isFetching => ({\r\n  type: TOOGLE_IS_FETCHING,\r\n  isFetching: isFetching\r\n});\r\n\r\n// THUNK CREATORs:\r\n\r\nexport const getUserProfile = userId => async dispatch => {\r\n  let response = await userAPI.getUserProfile(userId);\r\n  dispatch(setUserProfile(response.data));\r\n};\r\n\r\nexport const getUserStatus = userId => async dispatch => {\r\n  let response = await profileAPI.getUserStatus(userId);\r\n  dispatch(setUserStatus(response.data));\r\n};\r\n\r\nexport const updateUserStatus = statusText => async dispatch => {\r\n  dispatch(setToogleIsFetching(true));\r\n  let response = await profileAPI.updatetUserStatus(statusText);\r\n  dispatch(setToogleIsFetching(false));\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(setUserStatus(statusText));\r\n  } else if (response.data.resultCode === 1) {\r\n    dispatch(setUserStatus(\"\"));\r\n  }\r\n};\r\n\r\nexport default profileReducer;\r\n","import Axios from \"axios\";\r\n\r\nconst instance = Axios.create({\r\n  withCredentials: true,\r\n  headers: {\r\n    \"API-KEY\": \"04489b2f-612d-4121-98e8-d37b27a13021\"\r\n  },\r\n  baseURL: \"https://social-network.samuraijs.com/api/1.0/\"\r\n});\r\n\r\nexport let userAPI = {\r\n  getUsers(currentPage = 1, pageSize = 10) {\r\n    return instance\r\n      .get(`users?page=${currentPage}&count=${pageSize}`)\r\n      .then(response => response.data);\r\n  },\r\n  setUnfollow(userId) {\r\n    return instance.delete(`follow/${userId}`).then(response => response.data);\r\n  },\r\n  setFollow(userId) {\r\n    return instance.post(`follow/${userId}`).then(response => response.data);\r\n  },\r\n  getUserProfile(userId) {\r\n    console.warn('obsolete method. please use profileAPI.getUserProfile')\r\n    return profileAPI.getUserProfile(userId);\r\n  }\r\n};\r\n\r\nexport let authAPI = {\r\n  getAuth() {\r\n    return instance.get(`auth/me`);\r\n  },\r\n  setLogin(loginData) {\r\n    return instance.post(`/auth/login`, loginData);\r\n  },\r\n  setLogout() {\r\n    return instance.delete(`auth/login`);\r\n  }\r\n};\r\n\r\nexport let profileAPI = {\r\n  getUserProfile(userId) {\r\n    return instance.get(`profile/${userId}`);\r\n  },\r\n  getUserStatus(userId) {\r\n    return instance.get(`profile/status/${userId}`);\r\n  },\r\n  updatetUserStatus(statusText) {\r\n    return instance.put(`profile/status/`, {status: statusText});\r\n  }\r\n};","const SET_DIALOGS_CHAT_MESSAGES = \"SET-DIALOGS-CHAT-MESSAGES\";\r\nconst UPDATE_CURRENT_MESSAGE_TEXT = \"UPDATE-CURRENT-MESSAGE-TEXT\";\r\n\r\nlet initialState = {\r\n  dialogsListItems: [\r\n    { name: \"Chandler\", id: 1 },\r\n    { name: \"Ross\", id: 2 },\r\n    { name: \"Joe\", id: 3 },\r\n    { name: \"Monica\", id: 4 },\r\n    { name: \"Raychel\", id: 5 },\r\n    { name: \"Phoebe\", id: 6 }\r\n  ],\r\n  dialogsChatMessages: [\r\n    { id: 1, message: \"Hi!\" },\r\n    { id: 2, message: \"How are you?\" },\r\n    { id: 3, message: \"Do you learn react.JS?\" }\r\n  ],\r\n  currentMessageText: \"\"\r\n};\r\n\r\nconst dialogsReducer = (stateReducer = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_DIALOGS_CHAT_MESSAGES: {\r\n      if (!action.text) return stateReducer;\r\n      let newMessage = {\r\n        id: 4,\r\n        message: action.text\r\n      };\r\n      let stateCopy = {\r\n        ...stateReducer,\r\n        dialogsChatMessages: [...stateReducer.dialogsChatMessages]\r\n      };\r\n      stateCopy.dialogsChatMessages.push(newMessage);\r\n      return stateCopy;\r\n    }\r\n    case UPDATE_CURRENT_MESSAGE_TEXT: {\r\n      let stateCopy = { ...stateReducer };\r\n      stateCopy.currentMessageText = action.currentText;\r\n      return stateCopy;\r\n    }\r\n    default:\r\n      return stateReducer;\r\n  }\r\n};\r\n\r\n//ACTION CREATORs:\r\n\r\nexport const SetDialogsChatMessagesAC = text => ({\r\n  type: SET_DIALOGS_CHAT_MESSAGES,\r\n  text: text\r\n});\r\n\r\nexport default dialogsReducer;\r\n","import React from \"react\";\r\nimport preloader from \"./../../assets/img/loaderMini.svg\";\r\nimport style from \"./preloaderMini.module.css\";\r\n\r\nconst PreloaderMini = () => {\r\n  return (\r\n    <div className={style.preloader} >\r\n      <img src={preloader} alt=\"loadind...\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PreloaderMini;\r\n","export const updateArray = (array, itemId, objPropName, newObjProps) => {\r\n  return array.map(el => {\r\n    if (el[objPropName] === itemId) {\r\n      return { ...el, ...newObjProps };\r\n    }\r\n    return el;\r\n  });\r\n};\r\n","import { userAPI } from \"./../API/API\";\r\nimport { updateArray } from './../utils/validators/objectHelpers';\r\n\r\nconst FOLLOW = \"FOLLOW\";\r\nconst UNFOLLOW = \"UNFOLLOW\";\r\nconst SET_USERS = \"SET_USERS\";\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\r\nconst SET_TOTAL_COUNT = \"SET_TOTAL_COUNT\";\r\nconst TOOGLE_IS_FETCHING = \"TOOGLE_IS_FETCHING\";\r\nconst TOOGLE_FOLLOWING_IN_PROGRESS = \"TOOGLE_FOLLOWING_IN_PROGRESS\";\r\n\r\nlet initialState = {\r\n  userList: [],\r\n  pageSize: 10,\r\n  totalCount: 0,\r\n  currentPage: 1,\r\n  isFetching: false,\r\n  followingInProgress: []\r\n};\r\n\r\nconst usersReducer = (stateReducer = initialState, action) => {\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...stateReducer,\r\n        userList: updateArray(stateReducer.userList, action.userId, 'id', {followed: true})\r\n      };\r\n\r\n    case UNFOLLOW:\r\n      return {\r\n        ...stateReducer,\r\n        userList: updateArray(stateReducer.userList, action.userId, 'id', {followed: false})\r\n      };\r\n    case SET_USERS:\r\n      return {\r\n        ...stateReducer,\r\n        userList: [...action.users]\r\n      };\r\n    case SET_CURRENT_PAGE:\r\n      return {\r\n        ...stateReducer,\r\n        currentPage: action.page\r\n      };\r\n    case SET_TOTAL_COUNT:\r\n      return {\r\n        ...stateReducer,\r\n        totalCount: action.count\r\n      };\r\n    case TOOGLE_IS_FETCHING:\r\n      return {\r\n        ...stateReducer,\r\n        isFetching: action.isFetching\r\n      };\r\n    case TOOGLE_FOLLOWING_IN_PROGRESS:\r\n      return {\r\n        ...stateReducer,\r\n        followingInProgress: action.followingInProgress\r\n          ? [...stateReducer.followingInProgress, action.userId]\r\n          : stateReducer.followingInProgress.filter(id => id !== action.userId)\r\n      };\r\n    default:\r\n      return stateReducer;\r\n  }\r\n};\r\n\r\n//ACTION CREATORs:\r\n\r\nexport const followSuccess = userId => ({\r\n  type: FOLLOW,\r\n  userId: userId\r\n});\r\nexport const unfollowSuccess = userId => ({\r\n  type: UNFOLLOW,\r\n  userId: userId\r\n});\r\nexport const setUsers = users => ({\r\n  type: SET_USERS,\r\n  users: users\r\n});\r\nexport const setCurrentPage = page => ({\r\n  type: SET_CURRENT_PAGE,\r\n  page: page\r\n});\r\nexport const setTotalCount = count => ({\r\n  type: SET_TOTAL_COUNT,\r\n  count: count\r\n});\r\nexport const setToogleIsFetching = isFetching => ({\r\n  type: TOOGLE_IS_FETCHING,\r\n  isFetching: isFetching\r\n});\r\nexport const setToogleFollowingInProgress = (followingInProgress, userId) => ({\r\n  type: TOOGLE_FOLLOWING_IN_PROGRESS,\r\n  followingInProgress: followingInProgress,\r\n  userId: userId\r\n});\r\n\r\n// THUNK CREATORs:\r\n\r\nexport const getUsers = (currentPage, pageSize) => async dispatch => {\r\n  dispatch(setToogleIsFetching(true));\r\n  let response = await userAPI.getUsers(currentPage, pageSize);\r\n  dispatch(setToogleIsFetching(false));\r\n  dispatch(setUsers(response.items));\r\n  dispatch(setTotalCount(response.totalCount));\r\n  dispatch(setCurrentPage(currentPage));\r\n};\r\n\r\nconst followUnFollow = async (dispatch, userId, setFollowUnFollow, FollowUnFollowSuccess) => {\r\n  dispatch(setToogleFollowingInProgress(true, userId));\r\n  let response = await setFollowUnFollow(userId);\r\n  if (response.resultCode === 0) {\r\n    dispatch(FollowUnFollowSuccess(userId));\r\n  }\r\n  dispatch(setToogleFollowingInProgress(false, userId));\r\n}\r\n\r\nexport const unfollow = userId => dispatch => {\r\n  followUnFollow(dispatch, userId, userAPI.setUnfollow.bind(userAPI), unfollowSuccess)\r\n};\r\n\r\nexport const follow = userId => dispatch => {\r\n  followUnFollow(dispatch, userId, userAPI.setFollow.bind(userAPI), followSuccess)\r\n};\r\n\r\nexport default usersReducer;\r\n","module.exports = __webpack_public_path__ + \"static/media/loader.2f6db7eb.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"preloader_preloader__2_zbK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginBlock\":\"header_loginBlock__2Sisp\"};","module.exports = __webpack_public_path__ + \"static/media/loaderMini.8584a5ff.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"preloaderMini_preloader__3ZIGq\"};"],"sourceRoot":""}